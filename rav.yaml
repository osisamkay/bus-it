scripts:
  server:
    - cd bus_ticket_platform && python manage.py runserver 8001
  makemigrations:
    - cd bus_ticket_platform && python manage.py makemigrations
  migrate:
    - cd bus_ticket_platform && python manage.py migrate
  shell:
    - cd bus_ticket_platform && python manage.py shell
  createsuperuser:
    - cd bus_ticket_platform && python manage.py createsuperuser
  startapp:
    - cd bus_ticket_platform && python manage.py startapp api
  auth_app:
    - cd bus_ticket_platform && python manage.py startapp auth_app
  curl_auth:
    - powershell -ExecutionPolicy Bypass -Command "$response = Invoke-RestMethod -Method Post -Uri 'http://127.0.0.1:8001/api/token/pair' -Headers @{ 'Content-Type'='application/json' } -Body '{\"username\":\"admin\", \"password\":\"password\"}'; $response | ConvertTo-Json"
  curl_protect:
    - powershell -ExecutionPolicy Bypass -Command "$response = Invoke-RestMethod -Method Post -Uri 'http://127.0.0.1:8001/api/token/pair' -Headers @{ 'Content-Type'='application/json' } -Body '{\"username\":\"admin\", \"password\":\"password\"}'; $access_token = $response.access; $protected_response = Invoke-RestMethod -Method Post -Uri 'http://127.0.0.1:8001/api/protected' -Headers @{ 'Authorization'=\"Bearer $access_token\" } -Body '{\"username\":\"admin\", \"password\":\"password\"}'; $protected_response | ConvertTo-Json"
  curl_refresh:
    - powershell -ExecutionPolicy Bypass -Command "$response = Invoke-RestMethod -Method Post -Uri 'http://127.0.0.1:8001/api/token/pair' -Headers @{ 'Content-Type'='application/json' } -Body '{\"username\":\"admin\", \"password\":\"password\"}'; $refresh_token = $response.refresh; $new_tokens = Invoke-RestMethod -Method Post -Uri 'http://127.0.0.1:8001/api/token/refresh' -Headers @{ 'Content-Type'='application/json' } -Body \"{\\\"refresh\\\": \\\"$refresh_token\\\"}\"; $new_tokens | ConvertTo-Json"
  curl_verify:
    - powershell -ExecutionPolicy Bypass -Command "$response = Invoke-RestMethod -Method Post -Uri 'http://127.0.0.1:8001/api/token/pair' -Headers @{ 'Content-Type'='application/json' } -Body '{\"username\":\"admin\", \"password\":\"password\"}'; $access_token = $response.access; $verify_response = Invoke-RestMethod -Method Post -Uri 'http://127.0.0.1:8001/api/token/verify' -Headers @{ 'Content-Type'='application/json' } -Body \"{\\\"token\\\": \\\"$access_token\\\"}\"; $verify_response | ConvertTo-Json"
  curl_api_root:
    - powershell -ExecutionPolicy Bypass -Command "Invoke-RestMethod -Method Get -Uri 'http://127.0.0.1:8001/api/' | ConvertTo-Json"
